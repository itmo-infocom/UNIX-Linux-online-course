1
00:00:06,529 --> 00:00:15,990
В мире сетей TCP/IP первым делом были разработаны
 классические Интернет-программы,

2
00:00:15,990 --> 00:00:29,539
которые в определенных случаях все еще актуальны:
* `telnet` -- пользовательский интерфейс для протокола TELNET,

3
00:00:29,539 --> 00:00:38,820
который поддерживает стандартный интерфейс
 командной строки на удаленном компьютере

4
00:00:38,820 --> 00:00:54,710
* `ftp` -- программа передачи файлов ARPANET
* и `mail` -- отправка и получение почты.

5
00:00:54,710 --> 00:01:07,140
Как мы видим, у нас снова есть инструмент для удаленного
 выполнения и инструмент для передачи данных.

6
00:01:07,140 --> 00:01:16,420
Обычно `telnet` просто дает нам соединение с сервером по протоколу TELNET:

7
00:01:16,420 --> 00:01:18,520
$ man telnet

8
00:01:18,520 --> 00:01:26,420
Это просто интерфейс командной строки для другого хоста,

9
00:01:26,420 --> 00:01:35,270
и этот протокол по-прежнему используется
 для доступа к некоторым аппаратным устройствам.

10
00:01:35,270 --> 00:01:46,970
Более того, вы можете использовать его для отладки,
 подключившись к другим серверам,

11
00:01:46,970 --> 00:01:58,530
выбрав порт TCP-сервера. Сервер, поддерживающий текстовые протоколы.

12
00:01:58,530 --> 00:02:08,720
В современных системах вы можете использовать
 более легкую утилиту netcat -- `nc`.

13
00:02:08,720 --> 00:02:12,349
Например, попробуем поиграть с протоколом HTTP:

14
00:02:12,349 --> 00:02:15,340
$ telnet google.com 80
...
GET /index.html HTTP / 1.1

15
00:02:15,349 --> 00:02:29,000
Итак, мы видим запрос по HTTP-протоколу и ответ с сервера.

16
00:02:29,000 --> 00:02:40,880
Чтобы переключиться в командный режим telnet, мы можем нажать «Ctrl-]».

17
00:02:46,520 --> 00:02:52,120
А теперь мы можем запросить подсказку:
telnet> h

18
00:02:52,120 --> 00:02:59,430
И теперь мы можем выйти, например, если программа

19
00:02:59,430 --> 00:03:06,879
на другой стороне зависла.

20
00:03:06,879 --> 00:03:23,890
FTP или протокол передачи файлов -- еще одна
 известная составляющая сетевого мира. Мира Интернета.

21
00:03:23,890 --> 00:03:32,570
Он по-прежнему поддерживается некоторыми Интернет-серверами
 и его поддержка даже встроена в некоторые устройства.

22
00:03:32,570 --> 00:03:43,599
Мы можем получить доступ к FTP-серверу через
 обычный веб-браузер, а также с помощью утилиты `ftp`:

23
00:03:43,599 --> 00:03:44,599
$ man ftp

24
00:03:44,599 --> 00:03:50,390
В некоторых случаях последний вариант предпочтительнее,

25
00:03:50,390 --> 00:04:08,690
потому что, например, мы можем захотеть возобновить
 передачу файла или загрузить/скачать несколько файлов.

26
00:04:08,690 --> 00:04:24,510
Первым делом мы должны войти на FTP-сервер.

27
00:04:24,510 --> 00:04:27,759
Попробуем сделать это как анонимный пользователь:

28
00:04:27,759 --> 00:04:33,580
$ ftp ftp.funet.fi
Name (ftp.funet.fi:user): ftp
331 Any password will work
Password:

29
00:04:33,590 --> 00:04:40,550
В этом случае подойдет любой пароль,

30
00:04:40,550 --> 00:04:48,980
 но часто FTP-сервер ждет адрес электронной почты в качестве пароля.

31
00:04:48,980 --> 00:04:57,361
FTP имеет собственный интерфейс командной строки,
 где мы можем запросить подсказку:

32
00:04:57,361 --> 00:05:03,000
ftp> ?

33
00:05:03,000 --> 00:05:15,300
Сначала мы можем определить наш текущий каталог
 с помощью хорошо известной команды `pwd`,

34
00:05:15,300 --> 00:05:19,810
и, как мы ее понимаем, у нас есть два текущих каталога:

35
00:05:19,810 --> 00:05:21,890
удаленный и локальный.

36
00:05:21,890 --> 00:05:30,570
Удаленный каталог мы получили стандартной командой `pwd`.

37
00:05:30,570 --> 00:05:46,520
Чтобы получить текущий локальный каталог, мы можем использовать
 ту же команду, но поставив перед ней восклицательный знак.

38
00:05:46,530 --> 00:06:01,900
Это означает -- вызвать эту команду на локальном компьютере.
 Это команда из нашей локальной ОС.

39
00:06:01,900 --> 00:06:04,750
Это наш местный `pwd`.

40
00:06:04,750 --> 00:06:18,660
Вы можете удаленно сменить каталог с помощью команды `cd`,
 а локальный каталог -- с помощью `lcd`.

41
00:06:18,660 --> 00:06:27,330
Мы можем получить список удаленных каталогов,
 используя известную нам команду `ls`.

42
00:06:27,330 --> 00:06:31,610
А что насчет локальных `ls`?

43
00:06:31,610 --> 00:06:34,720
Да -- просто поставьте перед ней восклицательный знак.

44
00:06:34,720 --> 00:06:35,820
Это означает -- запускаем программу локально.

45
00:06:35,820 --> 00:06:48,150
Если у вас достаточно прав, вы можете загрузить файл

46
00:06:48,150 --> 00:06:58,330
командой `get` и загрузить его командой `put`, но только один файл.

47
00:06:58,330 --> 00:07:10,830
Если вы хотите работать с несколькими файлами,
 вам нужно будет использовать команды `mget`/`mput`.

48
00:07:10,830 --> 00:07:23,600
В этом случае имеет смысл отключить вопросы
 о подтверждении операций с помощью

49
00:07:23,600 --> 00:07:30,340
команды `prompt`.

50
00:07:30,340 --> 00:07:45,319
Также переключение в двоичный режим с помощью команды `bin` (bianry)

51
00:07:45,319 --> 00:07:48,759
может быть важным для клиентской системы Microsoft.

52
00:07:48,759 --> 00:07:58,009
В противном случае вы можете получить поврежденный файл,
 потому что Microsoft любит черную магию CR/LF

53
00:07:58,009 --> 00:08:02,889
преобразований для текстовых файлов.

54
00:08:02,889 --> 00:08:12,120
Мы обсуждали этот вопрос в лекции «Под капотом --
 Работа с текстом в Windows».

55
00:08:12,130 --> 00:08:20,380
Наконец, вы можете использовать команду `reget`,
 чтобы попытаться докачать файл

56
00:08:20,380 --> 00:08:22,440
после перерыва передачи.

57
00:08:22,440 --> 00:08:33,519
И команда `hash` переключает печать 'решётки'
 для каждого переданного блока данных,

58
00:08:33,519 --> 00:08:41,419
что может быть информативным, если соединение с сервером плохое.

59
00:08:41,419 --> 00:08:50,839
Еще одна полезная программа для создания сценариев -- `mail`, который представляет собой простой почтовый клиент для командной строки.

60
00:08:50,839 --> 00:08:56,480
Он может использоваться для отправки или чтения электронных писем:

61
00:08:56,480 --> 00:09:08,240
$ mail user@localhost
Subject: test
This is a test!
.

62
00:09:08,259 --> 00:09:17,400
Это почтовое сообщение должно заканчиваться точкой
 в ​​начале строки. Вот и всё --

63
00:09:17,400 --> 00:09:24,800
мы отправляем электронное письмо пользователю с именем `user` на локальном хосте.

