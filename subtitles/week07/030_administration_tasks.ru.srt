1
00:00:06,170 --> 00:00:13,180
Установив систему на свой компьютер, вы становитесь
 в той или иной степени администратором,

2
00:00:13,180 --> 00:00:17,250
и вам необходимо иметь некоторые базовые навыки администрирования.

3
00:00:17,250 --> 00:00:23,550
Наиболее важные задачи:
* Управление пользователями и группами;

4
00:00:23,550 --> 00:00:32,349
* Работа с репозиториями и пакетами;
* Работа с устройствами и драйверами;

5
00:00:32,349 --> 00:00:40,640
* Настройка файловых систем;
* Архивирование и резервное копирование;

6
00:00:40,640 --> 00:00:43,420
* Сетевое администрирование.

7
00:00:43,420 --> 00:00:53,220
Администрирование в разных UNIX-подобных системах
 осуществляется по-разному,

8
00:00:53,220 --> 00:01:03,260
хотя общие подходы к администрированию

9
00:01:03,260 --> 00:01:05,710
 более или менее похожи.

10
00:01:05,710 --> 00:01:19,750
В некоторых системах есть инструменты, которые могут помочь
 в выполнении каких-то административных задач.

11
00:01:19,750 --> 00:01:25,630
Например:
* gnome-control-center в системах с пользовательским интерфейсом GNOME

12
00:01:25,630 --> 00:01:41,960
* в RHEL: простой текстовый конфигуратор -- `setup`,
 графические конфигурационные утилиты --

13
00:01:41,960 --> 00:01:50,369
`system-config-что-то... `
* коммерческие системы предоставляют свои собственные

14
00:01:50,369 --> 00:01:56,270
более или менее удобные для администратора инструменты.

15
00:01:56,270 --> 00:02:05,009
Насколько мы понимаем, для выполнения таких задач
 нам нужны права суперпользователя.

16
00:02:05,009 --> 00:02:14,960
Некоторые системы могут требовать более строгих ограничений,
 когда задачи системного администрирования могут быть отделены

17
00:02:14,960 --> 00:02:25,920
от задач офицера безопасности с использованием систем обязательного контроля доступа (Mandatory Access Control -- MAC),

18
00:02:25,920 --> 00:02:38,569
 таких как разработанная Агентством Национальной Безопасности США (NSA) подсистема SELinux  в ядре Linux.

19
00:02:38,569 --> 00:02:42,260
Давайте посмотрим на инструмент RH `setup`:

20
00:03:00,120 --> 00:03:14,000
нам нужно пройти аутентификацию как суперпользователь "root ".
 Мы должны знать пароль суперпользователя "root".

21
00:03:14,000 --> 00:03:23,847
$ setup

22
00:03:26,200 --> 00:03:35,900
Мы должны ввести пароль "root" и после этого
 мы можем выполнить некоторые простые настройки:

23
00:03:35,900 --> 00:03:38,389
* Authentication configuration (Настройка аутентификации)

24
00:03:38,389 --> 00:03:39,569
* System services (Системные службы)

25
00:03:39,569 --> 00:03:53,099
Но когда мы запускаем некоторые другие программы,
 система может запрашивать пароль пользователя, а не "root".

26
00:03:53,099 --> 00:03:58,419
Это связано с тем, что эти программы используют
 разные механизмы для увеличения привилегий.

27
00:03:59,340 --> 00:04:17,829
Более общий способ -- просто переключиться
 на суперпользователя "root", и первый способ сделать это --

28
00:04:17,829 --> 00:04:21,210
выполнить команду `su`:

29
00:04:21,210 --> 00:04:22,350
$ man su

30
00:04:22,350 --> 00:04:32,990
`su` -- запустить команду, заместив идентификатор пользователя и группы,
 по умолчанию -- суперпользователя "root".

31
00:04:32,990 --> 00:04:41,200
Для такого переключения пользователей нам нужно
 ввести пароль этого пользователя.

32
00:04:41,200 --> 00:04:48,921
При вызове без аргументов `su` по умолчанию
 запускает интерактивную оболочку как "root".

33
00:04:48,921 --> 00:05:01,380
Очень важная опция -- это просто "тире",
 что означает -- запустить оболочку как при входе в систему

34
00:05:01,380 --> 00:05:05,570
с настройками среды, аналогичными получаемым при входе.

35
00:05:05,570 --> 00:05:19,380
После переключения на суперпользовательский "root"
 ваша подсказка изменится со знака "доллар" на знак "решетка"

36
00:05:24,040 --> 00:05:40,600
Но `logname` по-прежнему показывает реальный идентификатор пользователя, под которым мы входим в нашу систему.

37
00:05:40,600 --> 00:05:52,590
В системах BSD из соображений безопасности
 только пользователи из группы wheel (группа 0) могут использовать

38
00:05:52,590 --> 00:05:59,340
`su` как "root", даже если пароль "root" известен.

39
00:05:59,340 --> 00:06:13,060
Во многих UNIX и Linux теперь используется модуль аутентификации подключаемого модуля (PAM) для точной настройки

40
00:06:13,060 --> 00:06:15,930
изменения привилегий.

41
00:06:15,930 --> 00:06:28,660
Настройки для этой подсистемы находятся

42
00:06:28,660 --> 00:06:32,420
в каталоге /etc/pam.d/.

43
00:06:32,430 --> 00:06:39,280
И одно из приложений, файлы конфигурации которого

44
00:06:39,280 --> 00:06:52,560
мы можем найти в этом каталоге, -- это команда `sudo`.

45
00:06:52,560 --> 00:07:19,360
Политика безопасности PAM по умолчанию позволяет пользователям, прописанным соответствующим образом в конфигурационном файле '/etc/sudoers',

46
00:07:19,360 --> 00:07:23,480
запускать команды с привилегиями "root".

47
00:07:23,480 --> 00:07:34,040
В этом случае вам не нужно знать пароль пользователя "root".

48
00:07:34,040 --> 00:07:53,780
Кроме того, по умолчанию `sudo` выполняет
 только одну команду вместо `su`, где мы должны

49
00:07:53,780 --> 00:08:06,510
использовать параметр '-c' для запуска одной команды.

50
00:08:06,510 --> 00:08:18,070
Это снижает вероятность неожиданной ошибки для неопытного пользователя.

51
00:08:18,070 --> 00:08:24,070
И это, например, политика по умолчанию для систем Ubuntu.

52
00:08:24,070 --> 00:08:32,300
При установке Ubuntu создается стандартная учетная запись "root", но пароль ей не назначается.

53
00:08:32,310 --> 00:08:40,029
Вы не можете войти в систему как "root",
 пока не назначите пароль для учетной записи "root".

54
00:08:40,029 --> 00:08:45,279
С такими настройками по умолчанию можно использовать только `sudo`.

55
00:08:45,279 --> 00:08:56,779
Чтобы позволить обычному пользователю запускать `sudo` таким образом,
 в системах на основе RH, таких как Fedora, RHEL,

56
00:08:56,779 --> 00:09:10,110
CentOS или наш NauLinux, вы должны добавить
 этого пользователя в группу 'wheel' (как в BSD).

57
00:09:10,110 --> 00:09:20,180
И самый простой способ получить сеанс оболочки "root",
 как в "su" с "sudo" в Ubuntu, --

58
00:09:31,500 --> 00:09:40,329
это просто запустить его `sudo -i` (это означает интерактивный).

